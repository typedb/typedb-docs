= TypeDB Studio manual
:keywords: typedb, client, studio, visualizer, IDE, editor, purple
//:page-aliases: clients::studio.adoc
:pageTitle: TypeDB Studio
:summary: TypeDB Studio documentation.
:experimental:

[.float-group]
--
//image::home::cloud-hero.png[TypeDB Cloud hero image, role="framed right", width = 75%, window=_blank, link=https://cloud.typedb.com/]
image::drivers::studio/studio.png[TypeDB Studio hero image, role="right", width = 50%, window=_blank, link=self]
//#todo Add floating right for the image -- role="framed right"]
  +
TypeDB Studio is an IDE that facilitates the development process for TypeDB databases.

With Studio developers can efficiently manage databases, execute queries, and explore query results,
all within a unified environment.
It has a built-in xref:typeql::overview.adoc[TypeQL] support, as well as Type Browser, Type Editor,
and query results visualizer.
--

[cols-2]
--
.link:https://github.com/vaticle/typedb-studio/[GitHub,window=_blank]
[.clickable]
****
The GitHub repository with the source code and release notes.
****

.xref:manual::installing/studio.adoc[Install]
[.clickable]
****
See the TypeDB Studio installation guide.
****
--

== Setup

To prepare TypeDB Studio for work, you need to complete the following steps:

. <<_select_a_project_directory,Select a project directory>> to save your queries locally.
. <<_connect_to_typedb,Connect>> to a TypeDB Cloud cluster or a TypeDB Core server.
. <<_select_database,Select a database>> to work with.

[#_select_a_project_directory]
=== Select a project directory

TypeDB Studio stores queries you work with as files in a local directory, called project directory.
To select a project directory,
click on the open folder icon (image:home::studio-icons/project.png[]) in the top toolbar.

[#_connect_to_typedb]
=== Connect to TypeDB

Click btn:[Connect to TypeDB] on the right side of the top toolbar,
select TypeDB edition below, and follow the instructions:

include::home::quickstart.adoc[tags=connect_studio]

//include::manual::connecting/connection.adoc[tag=studio-cloud]

[#_select_database]
=== Select a database

TypeDB can work with one database at a time.
To select a database to work with, use the dropdown menu on the right from the database icon
(image:home::studio-icons/database.png[])
in the top toolbar.

If there are no databases yet, see how to <<_create_a_database,create>> a new one.

If the dropdown menu is greyed out and unresponsive, then check your <<_connect_to_typedb,connection>> to TypeDB.

== Prepare a query

TypeDB has a Text editor that can edit most text files and has a built-in syntax highlighting for TypeQL.
It can also run TypeQL queries from `.tql` and `.typeql` files.
Each file can have one or more queries.

To create a new file, open a new tab in the Text editor panel.
The file will be created and saved with temporary name in a hidden folder `./typedb-studio`
inside the selected project directory.
There is an autosave feature that persists all the changes made to a file to disk.
It can be disabled in settings.
By manually saving (image:home::studio-icons/save.png[]) a temporary file you can rename
and move it from the hidden folder.

== Run a query

image::drivers::studio/project-schema-committed.png[Commit the Transaction, role="right", width = 50%, link=self]

Select a session type (image:home::studio-icons/session-data.png[])
and a transaction type (image:home::studio-icons/transaction-write.png[]) in the top Toolbar.

To run a query file, open it in a tab of the Text editor panel and
click the btn:[Run Query] button (image:home::studio-icons/run.png[]) from the top Toolbar.

For a `write` transaction type wait for a query to complete its execution
and select one of the transaction control actions:
Commit (image:home::studio-icons/commit.png[]),
Close (image:home::studio-icons/close.png[]), etc.

If a `write` transaction committed successfully -- a blue pop-up with confirmation is displayed.
If any error occurs during a transaction, it is shown as a red pop-up.

For more information on different control elements for query execution, see the <<_transaction_control>> section below.

[#_results]
=== Query results

Under the *Text editor* panel there is the *Results* panel.
The Results panel is collapsed by default if no query has been run yet.

This panel has two sets of tabs: *Run* and *Output*.
Run tabs represent separate runs of a query file.
You can pin a tab to preserve it.
Otherwise, it will be rewritten with the next run.

Output tabs represent different output formats for the results: Log and Graph.
Log tab contains textual output, similar to xref:manual::console.adoc[TypeDB Console], as well as input log,
and error messages.
Graph tab is available for Get queries only.
It uses Studio's Graph Visualizer to build a graphical representation of query results.

[#_transaction_control]
== Transaction controls

To control query execution, we have the top *Toolbar* elements located to the right from the database selection
drop-down menu.

image::drivers::studio/studio-transaction-controls.png[Transaction controls, link=self]

//From left to right (numbered respectively to the numbers on the above screenshot):

. xref:manual::connecting/session.adoc[Session] type switch (image:manual::icons/session-data.png[])
. xref:manual::connecting/transaction.adoc[Transaction] type switch (image:manual::icons/transaction-read.png[])
. btn:[snapshot] button -- enables snapshot feature that encapsulates a transaction in a snapshot of a database's data
until the transaction is committed or closed.
Write transactions are always snapshoted.
May be enabled or disabled for read transactions.
. btn:[infer] button -- enable xref:typedb::developing/infer.adoc[inferring data] by rules.
Only available for read transactions.
. btn:[explain] button -- enable xref:typedb::developing/infer.adoc#_explain_query[explanations] mechanics.
Only available for read transactions with *snapshot* and *infer* enabled.
. btn:[Transaction status] (image:home::studio-icons/activity.png[]) indicator -- transaction activity indicator.
Green if there is a transaction opened by TypeDB Studio at this moment.
Gray if there is no opened transaction.
Rotating animation -- TypeDB Studio processing the query or the results (including additional API calls).
. btn:[Close transaction] (image:home::studio-icons/close.png[]) button -- close active transaction without committing the results.
. btn:[Rollback transaction] (image:home::studio-icons/revert.png[]) button -- revert the transaction results without closing it.
. btn:[Commit transaction] (image:home::studio-icons/commit.png[]) button -- commit the changes and close the transaction.
. btn:[Run Query] (image:home::studio-icons/run.png[]) button -- run query or queries in the active tab of the *Text editor* panel.
It will open a transaction (with the session type and transaction type specified in the *Toolbar* on the left)
and execute the TypeQL code against the selected database.
. btn:[Stop Signal] (image:home::studio-icons/signal.png[]) button -- stop query execution after the next result.

[#_inference]
== Inference

To run a query with inference, enable the btn:[infer] button before executing a query.

The xref:typedb::basics/inference.adoc[inference] transaction option can be switched *on* and *off* with
the btn:[infer] button in the top *Toolbar*.

[NOTE]
====
If the btn:[infer] button is inactive, double-check the following prerequisites are met:

- there is an active database <<_connect_to_typedb,connection>>;
- there is a database <<_select_database,selected>>;
- the transaction type is set to *read*.
====

As a result of running a query with inference, we can get <<_results,results>> in the *Run* panel. If there are any
inferred instances of data they will be shown with green lining in the graph visualization. And inferred connections
(ownerships or roles played) will be shown as green arrows. See the example below.

[#_inference_results]
image::drivers::studio/inference.png[Inference results example, width = 70%, link=self]

[#_explanation]
=== Explanation

To run a query with explanation, simply switch the explanation option *on* before executing a query. To be able to do
 that, the inference and the snapshot options must also be enabled.

The xref:typedb::developing/infer.adoc#_explain_query[explanation] transaction option can be switched
*on* and *off* with the btn:[explain] button in the top *Toolbar*. The inference and snapshot options can be enabled
by the btn:[infer] and the btn:[snapshot] buttons respectively.

[NOTE]
====
If the btn:[explain] button is inactive, double-check the following:

- the btn:[infer] button is *on*;
- the btn:[snapshot] button is *on*;
- there is an active database <<_connect_to_typedb,connection>>;
- there is a database <<_select_database,selected>>;
- the transaction type is set to *read*.
====

As a result of running a query with inference and explanation options we can get <<_results,results>> in the
*Run* panel. If there are any inferred instances of data they will be shown with green lining in the graph
visualization. And inferred connections (ownerships or roles played) will be shown as green arrows. As it was shown
in the <<_inference_results,inference example>> above.

The only difference is -- double-clicking on any explainable inferred results will spawn an explanation. An explanation
is a set of additional instances and connections, that provide a direct explanation of the selected explainable inferred
result. See the example below.

[#_explanation_results]
image::drivers::studio/explanation.png[Explanation example, width = 70%, link=self]



== Connection management

To connect, disconnect, or change connection settings, use the btn:[Connect to TypeDB] button in the top right corner.
While connected to TypeDB, the button changes its label to server's address.

== Databases management

[#_create_a_database]

[.float-group]
--
image::drivers::studio/databases-interface-iam-database.png[Database Manager with IAM database, role=right, width=50%, link=self]

To create a new database, make sure TypeDB Studio is connected to TypeDB and follow the steps:

. Open the btn:[Manage Databases] window by clicking on the database button (image:home::studio-icons/database.png[]) in the top toolbar.
. Enter the name for the new database and hit btn:[Create].

To delete a database:

. Open the btn:[Manage Databases] window by clicking on the database button (image:home::studio-icons/database.png[]) in the top toolbar.
. Select a database to delete from a list of databases and click the Delete button on the right.
. Confirm deletion by typing in the name of the databsae to delete and then clicking the btn:[Delete] button.
--

[#_types_browser_capabilities]
== Type browser capabilities

Under the *Projects* panel that shows the project directory TypeDB has *Type Browser* panel that shows all types of
the schema of the current database.

[NOTE]
====
If the *Type Browser* panel is not displayed -- click the *Type Browser* vertical tab on the left edge of the
TypeDB Studio window.
====

All types are divided in three top level xref:typedb::basics/data-model.adoc#_pera[built-in types]:

* Attribute
* Entity
* Relation

In an empty database (without a schema) only these three built-in types shown in the panel.

In a database with a schema, all types displayed in the exact hierarchy they were created (subtypes inside their
supertypes). We can easily collapse or expand all the types in the structure tree by clicking the associated buttons
on the top of the *Type Browser* panel with double chevrons (arrow heads) pointing down or up respectively.

image::drivers::studio/type-browser.png[Type browser,width=300, link=self]

Double-clicking on any type will open the <<_type_editor,Type editor>> with information about the selected type
in a tab of the *Text editor*.

*Type Browser* panel can be closed by clicking the *X* icon in the top right corner of the panel. To reopen the panel
click the *Type Browser* tab on the left edge of the TypeDB Studio window.

=== Export schema

We can export schema of the database by clicking the btn:[Export Schema Types] button (second in row from left to
right) on the top of the *Type Browser* panel. It creates a new tab with inserted TypeQL code that creates the exact
schema that is in the current database.

[WARNING]
====
The btn:[Export Schema Types] button doesn't include rules into its output. That will be fixed in some of the next
versions of the TypeDB Studio.
====

[#_type_editor]
=== Type editor

By double-clicking any type, we can open the type editor window that shows all information about the selected type and
use the GUI to edit the type.

image::drivers::studio/type-editor.png[Type editor, width = 70%, link=self]

We can rename the type, change its supertype, abstract property, see all the connected types (subtypes, owned
attributes or owners of this particular attribute, related and played roles).

By clicking on one of the connected types we can see all information about it as well.

=== Rename a type

[WARNING]
====
For the renaming functions to be active set the session type switch to the `schema` and transaction type switch to the
`write` options first.
====

In TypeDB Studio we can rename a type in two ways:

* Open the type editor window by double-clicking on the type. At the very top click on the pencil icon immediately
right from the type name. Edit the name in the Label field and press btn:[Rename] button to finalize.
* Right-click on the type in the *Type browser* list. Click on the *Rename Type* option. Edit the name in the Label
field and press btn:[Rename] button to finalize.

[NOTE]
====
Renaming a type in any of this two ways will update the relevant type references in the schema and will not lead
to loosing existing data. All existing instances of the type will be available under the new types name.
====

=== Delete a type

[WARNING]
====
For the deleting functions to be active set the session type switch to the `schema` and transaction type switch to
the `write` options first.
====

In TypeDB Studio we can delete a type in two ways:

* Open the type editor window by double-clicking on the type. At the very bottom click on the btn:[Delete] button and
press btn:[Confirm] button. Commit the transaction with the green tick at the top of the Studio window.
* Right-click on the type in the *Type browser* list. Click on the Delete option and press btn:[Confirm] button. Commit
the transaction with the green tick at the top of the Studio window.

[NOTE]
====
In some cases, the btn:[Delete] option and button can be disabled. That means there are some conditions that prevent us
from deleting this type.

For example, we can't xref:typedb::developing/defining-schema.adoc#_undefine_subtype[delete a type that has a subtype].
====

== Settings

To configure TypeDB Studio, open the *Manage Preferences* window by clicking on the button with the gear (⚙) icon
in the top right corner of the TypeDB Studio window.

TypeDB Studio has the following settings available:

* Graph Visualiser
** Enable Graph Output -- Turns on visualization of query results as graphs on a separate tab of the *Run* panel. +
Default value: *On*.
* Project Manager
** Set Ignored Paths -- All paths mentioned here will be invisible in any Project directory opened in Studio. +
Default value: `.git`.
* Query Runner
** Default Get query Limit -- Limits the maximum number of results to be returned from a get query to a database
if no limit explicitly stated in the query. +
Default value: *1000*.
* Text Editor
** Enable Autosave -- Enables autosave function for files opened in TypeDB Studio. +
Default value: *On*.

[#_version_compatibility]
== Version Compatibility

[cols="^.^2,^.^1,^.^2,^.^2"]
|===
| TypeDB Studio | Protocol encoding version | TypeDB Core | TypeDB Cloud

| 2.26.0
| 3
| 2.26.3
| 2.26.0

| 2.25.11
| 3
| 2.25.7
| 2.25.7

| 2.24.15
| 2
| 2.24.17
| 2.24.17

| 2.18.0 to 2.21.2
| 1
| 2.18.0 to 2.23.0
| 2.18.0 to 2.23.0

| 2.14.1 to 2.17.0
| N/A
| 2.14.1 to 2.17.0
| 2.14.1 to 2.17.0

| 2.11.0
| N/A
| 2.11.1
| 2.11.1 to 2.11.2
|===

